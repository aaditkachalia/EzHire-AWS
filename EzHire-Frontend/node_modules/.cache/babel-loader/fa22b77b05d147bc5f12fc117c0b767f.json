{"ast":null,"code":"import _slicedToArray from \"/Users/aadit/.config/yarn/global/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/aadit/Desktop/Final Year/Code/EzHire2020/src/views/ScheduleName/ScheduleName.js\";\nimport React, { Component } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport MaterialTable from 'material-table';\nimport ReactLoading from 'react-loading';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport PDFViewer from 'pdf-viewer-reactjs';\nimport { useAlert, positions, Provider as AlertProvider } from 'react-alert';\nimport history from \"history.js\";\nimport Config from \"../../Config.js\";\nimport Auth from \"../../Auth.js\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    button: {\n      margin: theme.spacing(1)\n    },\n    modal: {\n      display: 'inline-grid',\n      alignItems: 'center',\n      justifyContent: 'center',\n      overflow: 'scroll'\n    },\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      border: '2px solid #000',\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing(2, 4, 3)\n    }\n  };\n});\nexport default function ScheduleName() {\n  Auth();\n  var classes = useStyles();\n  var location = useLocation();\n  var interviewname;\n  var interviewid;\n  var companyid;\n  var namejson = {};\n  var userjson = {};\n\n  var _React$useState = React.useState('false'),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isloaded = _React$useState2[0],\n      setLoad = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      isscheduled = _React$useState4[0],\n      setSchedule = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      open = _React$useState6[0],\n      setOpen = _React$useState6[1];\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n  };\n\n  if (location.state) {\n    interviewname = location.state.name;\n    interviewid = location.state.cid;\n    companyid = location.state.cname;\n    var data = {\n      \"companyid\": companyid,\n      \"interviewid\": interviewid\n    };\n    fetch(Config.serverurl + \"/interviewnames\", {\n      method: 'POST',\n      body: JSON.stringify(data)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      localStorage.setItem(\"internames\", JSON.stringify(res));\n      setLoad('true');\n      data = \"\";\n    });\n  } else {\n    interviewname = \"false\";\n  }\n\n  var count;\n  var interviewusers = [];\n  var interfbnames = [];\n  var interuserid = [];\n\n  function OpenModal() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      \"aria-labelledby\": \"transition-modal-title\",\n      \"aria-describedby\": \"transition-modal-description\",\n      className: classes.modal,\n      open: open,\n      onClose: handleClose,\n      closeAfterTransition: true,\n      BackdropComponent: Backdrop,\n      BackdropProps: {\n        timeout: 500\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Fade, {\n      \"in\": open,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      id: \"transition-modal-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Resume\"), React.createElement(PDFViewer, {\n      document: {\n        url: 'https://arxiv.org/pdf/quant-ph/0410100.pdf'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })))));\n  }\n\n  function viewResume() {\n    setOpen(true);\n  }\n\n  function handleselection(rows) {\n    interviewusers = [];\n\n    for (count = 0; count < rows.length; count++) {\n      interviewusers.push(rows[count].username);\n    }\n  }\n\n  function ScheduleInterview() {\n    var pos;\n    var finalnames = [];\n    console.log(interuserid);\n    console.log(interviewusers);\n    Object.entries(interuserid).map(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          key = _ref2[0],\n          value = _ref2[1];\n\n      pos = interviewusers.indexOf(value.key);\n\n      if (pos !== -1) {\n        finalnames.push(value.value);\n      }\n    });\n    var data = {\n      \"interviewname\": finalnames,\n      \"interviewid\": interviewid,\n      \"companyid\": companyid,\n      \"isTaken\": 'false'\n    };\n    console.log(data);\n    setSchedule(true);\n    fetch(Config.serverurl + \"/schedulenames\", {\n      method: 'POST',\n      body: JSON.stringify(data)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      setSchedule(false);\n      alert(\"Interview Scheduled\");\n      history.push('/adminco/schedule');\n    });\n  }\n\n  if (location.state) {\n    if (isloaded === 'true') {\n      var fbnames = localStorage.getItem('internames');\n      fbnames = JSON.parse(fbnames);\n      console.log(fbnames);\n      var interviewidp;\n      var companyidp;\n      var interviewpresent;\n      var result = Object.entries(fbnames).map(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            key = _ref4[0],\n            value = _ref4[1];\n\n        if (value.type == 0) {\n          //interviewidp = location.state.cid\n          //companyidp = location.state.cname\n          interviewpresent = value.interviews;\n          console.log(\"Interviews inside \" + interviewpresent); //interviewpresent = interviewpresent.companyidp\n          //interviewpresent = interviewpresent.interviewidp\n\n          if (true) {\n            namejson = {\n              name: value.firstName,\n              surname: value.lastName,\n              username: value.username\n            };\n            userjson = {\n              key: value.username,\n              value: key\n            };\n            interfbnames.push(namejson);\n            interuserid.push(userjson);\n          }\n        }\n\n        namejson = {};\n      });\n      console.log(interfbnames);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(OpenModal, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }), React.createElement(MaterialTable, {\n        columns: [{\n          title: ' First Name',\n          field: 'name'\n        }, {\n          title: 'Last Name',\n          field: 'surname'\n        }, {\n          title: 'User Name',\n          field: 'username'\n        }],\n        options: {\n          selection: true\n        },\n        data: interfbnames,\n        title: interviewname,\n        onSelectionChange: function onSelectionChange(rows) {\n          return handleselection(rows);\n        },\n        onRowClick: function onRowClick(event, rowData) {\n          return viewResume();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }), React.createElement(Button, {\n        variant: \"contained\",\n        color: \"danger\",\n        size: \"large\",\n        className: classes.button,\n        onClick: ScheduleInterview,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, isscheduled && React.createElement(\"i\", {\n        className: \"fa fa-refresh fa-spin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"  \"), \"Schedule Interview\"));\n    } else {\n      return React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(ReactLoading, {\n        type: 'cylon',\n        color: 'skyblue',\n        height: '18%',\n        width: '25%',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }));\n    }\n  } else {\n    return React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \" Please select an interview from Your Interviews Tab to proceed! \");\n  }\n}","map":{"version":3,"sources":["/Users/aadit/Desktop/Final Year/Code/EzHire2020/src/views/ScheduleName/ScheduleName.js"],"names":["React","Component","useLocation","MaterialTable","ReactLoading","Button","makeStyles","Modal","Backdrop","Fade","PDFViewer","useAlert","positions","Provider","AlertProvider","history","Config","Auth","useStyles","theme","button","margin","spacing","modal","display","alignItems","justifyContent","overflow","paper","backgroundColor","palette","background","border","boxShadow","shadows","padding","ScheduleName","classes","location","interviewname","interviewid","companyid","namejson","userjson","useState","isloaded","setLoad","isscheduled","setSchedule","open","setOpen","handleClose","state","name","cid","cname","data","fetch","serverurl","method","body","JSON","stringify","then","res","json","localStorage","setItem","count","interviewusers","interfbnames","interuserid","OpenModal","timeout","url","viewResume","handleselection","rows","length","push","username","ScheduleInterview","pos","finalnames","console","log","Object","entries","map","key","value","indexOf","alert","fbnames","getItem","parse","interviewidp","companyidp","interviewpresent","result","type","interviews","firstName","surname","lastName","title","field","selection","event","rowData"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\"\nimport { useLocation } from \"react-router-dom\";\nimport MaterialTable from 'material-table'\nimport ReactLoading from 'react-loading';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport PDFViewer from 'pdf-viewer-reactjs'\nimport { useAlert, positions, Provider as AlertProvider } from 'react-alert'\nimport history from \"history.js\"\nimport Config from \"../../Config.js\"\nimport Auth from \"../../Auth.js\"\nconst useStyles = makeStyles(theme => ({\n  button: {\n    margin: theme.spacing(1),\n  },\n   modal: {\n    display: 'inline-grid',\n    alignItems: 'center',\n    justifyContent: 'center',\n    overflow:'scroll',\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\nexport default function ScheduleName(){\n\t\tAuth()\n\t\tconst classes = useStyles();\n\t\tlet location = useLocation();\n\t\tlet interviewname\n\t\tlet interviewid\n\t\tlet companyid\n\t\tlet namejson={}\n\t\tlet userjson={}\n\t\tlet [isloaded, setLoad] = React.useState('false')\n\t\tlet [isscheduled, setSchedule] = React.useState(false)\n  \t\tconst [open, setOpen] = React.useState(false);\n\n  \t\tconst handleClose = () => {\n    \t\tsetOpen(false);\n  \t\t};\n\t\tif(location.state){\n\t\tinterviewname = location.state.name\n\t\tinterviewid = location.state.cid\n\t\tcompanyid = location.state.cname\n\t\tvar data ={\"companyid\": companyid, \"interviewid\": interviewid}\n\t\tfetch(Config.serverurl+\"/interviewnames\",{\n        method:'POST',\n\t\tbody:JSON.stringify(data),\n      })\n      .then(res => res.json())\n      .then(res =>{\n\t\tlocalStorage.setItem(\"internames\",JSON.stringify(res))\n\n\t\tsetLoad('true')\n\t\tdata=\"\"\n})\n\t\t}\n\t\telse{\n\t\t\tinterviewname=\"false\"\n\t\t}\n\t\t\n\n\t\tvar count\n\t\tlet interviewusers = []\n\t\tlet interfbnames = []\n\t\tlet interuserid = []\n function OpenModal(){\n\n  return (\n  \t <div>\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={open}\n        onClose={handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open}>\n          <div className={classes.paper}>\n            <h2 id=\"transition-modal-title\">Resume</h2>\n            <PDFViewer\n            document={{\n                url: 'https://arxiv.org/pdf/quant-ph/0410100.pdf',\n            }}\n        />\n          </div>\n        </Fade>\n      </Modal>\n    </div>\n  )\n}\n\n\t\tfunction viewResume(){\n\t\t\tsetOpen(true)\n\t\t}\n\n\t\tfunction handleselection(rows){\n\t\t\tinterviewusers=[]\n\t\t\tfor(count=0; count<rows.length;count++){\n\t\t\t\t\tinterviewusers.push(rows[count].username)\n\t\t\t}\n\t\t}\n\n\t\tfunction ScheduleInterview(){\n\t\t\tlet pos\n\t\t\tlet finalnames=[]\n\t\t\tconsole.log(interuserid)\n\t\t\tconsole.log(interviewusers)\n\t\t\tObject.entries(interuserid).map(([key, value]) => {\n\t\t\t\tpos=interviewusers.indexOf(value.key)\n\t\t\t\tif(pos!==-1){\n\t\t\t\tfinalnames.push(value.value)\n\t\t\t}\n\n\t\t\t}\n\t\t\t)\n\t\tvar data ={\"interviewname\": finalnames, \"interviewid\" : interviewid, \"companyid\":companyid, \"isTaken\":'false'}\n\t\tconsole.log(data)\n\t\tsetSchedule(true)\n\t\tfetch(Config.serverurl+\"/schedulenames\",{\n        method:'POST',\n\t\tbody:JSON.stringify(data),\n      })\n      .then(res => res.json())\n      .then(res =>{\n\t\tsetSchedule(false)\n \t\talert(\"Interview Scheduled\")\n \t\thistory.push('/adminco/schedule')\n})\n\t\t\t\n\t\t}\t\t\n\t\tif(location.state){\n\t\tif(isloaded==='true'){\n\t\tlet fbnames = localStorage.getItem('internames')\n\t\tfbnames=JSON.parse(fbnames)\n\t\tconsole.log(fbnames)\n\t\tlet interviewidp\n\t\tlet companyidp\n\t\tlet interviewpresent\n \t\tlet result=Object.entries(fbnames).map(([key, value]) => {\n \t\t\t\tif(value.type==0){\n \t\t\t\t//interviewidp = location.state.cid\n\t\t\t\t//companyidp = location.state.cname\n \t\t\t\tinterviewpresent = value.interviews\n \t\t\t\tconsole.log(\"Interviews inside \"+ interviewpresent)\n \t\t\t\t//interviewpresent = interviewpresent.companyidp\n \t\t\t\t//interviewpresent = interviewpresent.interviewidp\n \t\t\t\tif(true){\n \t\t\t\tnamejson={name : value.firstName, surname: value.lastName, username:value.username }\n \t\t\t\tuserjson = {key: value.username, value : key}\n        \t\tinterfbnames.push(namejson)\n        \t\tinteruserid.push(userjson)\n        \t\t}\n        \t}\n        \t\tnamejson={}\n    })\n \t\tconsole.log(interfbnames)\n\t\treturn(\n\t\t\t<div>\n\t\t\t<OpenModal />\n\t\t<MaterialTable\n          columns={[\n            { title: ' First Name', field: 'name' },\n            { title: 'Last Name', field: 'surname' },\n            { title: 'User Name', field: 'username'}\n          ]}\n          options={{\n      selection: true\n    \t\t\t}}\n          data={interfbnames}\n          title={interviewname}\n          onSelectionChange={(rows) => handleselection(rows)}\n          onRowClick={(event,rowData) => viewResume()}\n        />\n        <Button\n        variant=\"contained\"\n        color=\"danger\"\n        size=\"large\"\n        className={classes.button}\n        onClick={ScheduleInterview}\n      >\n \t\t{isscheduled && <i className=\"fa fa-refresh fa-spin\">  </i>}\n        Schedule Interview\n      </Button>\n        </div>\n\t\t)\n\t}\n\telse{\n\treturn(\n\t<div style={{display: 'flex', justifyContent: 'center'}}>\n\t<ReactLoading type={'cylon'} color={'skyblue'} height={'18%'} width={'25%'} />\n\t<br />\n\t</div>\n\t)\n\t}\n}\n\t\telse{\n\t\t\treturn(\n\n\t\t\t<h2> Please select an interview from Your Interviews Tab to proceed! </h2>\n\t\t\t)\n\t\t}\n\n}"]},"metadata":{},"sourceType":"module"}